<!DOCTYPE html>
<html>
<head>
  <title>Subir Archivo</title>
  <script>
function cargarLista() {
  fetch('/list')
    .then((response) => response.json())
    .then((data) => {
      const listaArchivos = document.getElementById('listaArchivos');

      data.forEach((archivo) => {
        const div = document.createElement('div');
        div.textContent = archivo.name;

        const btnEliminar = document.createElement('button');
        btnEliminar.textContent = 'Eliminar';
        btnEliminar.addEventListener('click', () => {
          // lógica para eliminar el archivo
          console.log('Eliminar', archivo.name);
        });

        const btnDescargar = document.createElement('button');
        btnDescargar.textContent = 'Descargar';
        btnDescargar.addEventListener('click', () => {
          // lógica para descargar el archivo
          console.log('Descargar', archivo.name);
        });

        div.appendChild(btnEliminar);
        div.appendChild(btnDescargar);
        listaArchivos.appendChild(div);
      });
    })
    .catch((error) => {
      console.error('Error al cargar la lista de archivos:', error);
    });
}

cargarLista();

  </script>
</head>
<body>
  <h1>Subir Archivo al Servidor FTP</h1>
  <form action="/upload" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".jpg, .png, .pdf, .doc, .docx, .xls, .xlsx, .ppt, .pptx">
    <button type="submit">Subir</button>
  </form>

  <div id="listaArchivos"></div>
</body>
</html>
